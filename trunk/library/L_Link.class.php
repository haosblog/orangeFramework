<?php/* *  File: L_Link.class.php *  Functionality:  给指定的关键字加链接 *  Author: Nic XIE *  Date: 2013-2-1 *  Remark:  此类仅给第一个关键词加链接		$arr  = array(				0 => array(					'link' => 'http://www.513fdw.com',					'keywords' => array('房道网', '林文聪', '谢'),				), 				1 => array(					'link' => 'http://www.baidu.com',					'keywords' => array('abcd', '刘坤'),				), 		);		1: link 为 keywords 要加的链接); */class L_Link {	// 查找的内容	private $content = ' ';		// array 包含keywords 与 link	private $arr = ' ';		function __construct($content,  $arr){		$this->content = $content;		$this->arr        = $arr;	}			// 给关键词加链接	private function addLink($link, $val){		$link = "<a href=\"".$link."\">".$val."</a>";		return $link;	}			// 调用此函数	public function go(){		foreach($this->arr as $k => $v){			$link = $v['link'];			$keywords = $v['keyword'];						// 多个 keywords			foreach($keywords as $key => $val){				// 取到字符串首次出现的位置				$pos = strpos($this->content, $val);				if($pos !== FALSE){					// 取到字符串的长度					$len  = strlen($val);					$nl    = $this->addLink($link, $val);										// 替换第一个					$this->content = substr_replace($this->content, $nl, $pos, $len);				}			}		}				return $this->content;	}} ?>